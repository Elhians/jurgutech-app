<div class="page-container">
  <div class="header">
    <button class="return-button" (click)="goBack()">â¬… Retour</button>
    <h2 class="title">Gestion de l'humiditÃ©</h2>
  </div>

  <div class="current-status">
    <div class="status-card">
      <div class="status-icon">ðŸ’§</div>
      <div class="status-info">
        <h3>HumiditÃ© actuelle</h3>
        <div class="level-display">
          <span class="level-value">{{ currentHumidity }}%</span>
          <span class="status-badge" [class]="currentHumidity && currentHumidity > humiditySensor.max ? 'warning' : 'normal'">
            {{ currentHumidity && currentHumidity > humiditySensor.max ? 'Ã‰LEVÃ‰E' : 'NORMALE' }}
          </span>
        </div>
      </div>
    </div>
  </div>

  <div class="chart-container">
    <h3>Historique de l'humiditÃ©</h3>
    <canvas baseChart
      [data]="humidityChartData"
      [options]="{ responsive: true }"
      [type]="'line'">
    </canvas>
  </div>

  <div class="config-section">
    <div class="config-card">
      <h3>Configuration du capteur</h3>
      <div class="config-inputs">
        <div class="input-group">
          <label>Seuil maximum (%)</label>
          <input type="number" [(ngModel)]="humiditySensor.max" min="0" max="100" class="number-input" />
        </div>
      </div>
      <button class="save-button" (click)="saveHumiditySensor()">
        <span class="icon">ðŸ’¾</span>
        Enregistrer
      </button>
    </div>
  </div>
</div>
