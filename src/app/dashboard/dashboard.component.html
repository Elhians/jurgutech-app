<div class="dashboard-container">
    <button class="return-button" (click)="goBack()">â¬… Retour</button>
    <h2>Bienvenue {{ user?.displayName || user?.email }} ðŸ‘‹</h2>
  
    <div class="action-bar">
      <button class="btn" (click)="addCoopWithQR()">ðŸ“· Ajouter avec QR Code</button>
      <button class="btn" (click)="addCoopWithCode()">ðŸ”‘ Ajouter avec code dâ€™accÃ¨s</button>
    </div>
  
    <div *ngIf="showCodeInput" class="code-form">
      <input type="text" [(ngModel)]="codeInput" placeholder="Entrer le code d'accÃ¨s" />
      <button class="btn confirm" (click)="submitAccessCode()">Valider</button>
    </div>
  
    <div *ngIf="loading">Chargement des poulaillers...</div>
    <div *ngIf="error" class="error">{{ error }}</div>
  
    <div *ngIf="coops.length === 0 && !loading">
      <p>Aucun poulailler associÃ© Ã  ce compte.</p>
    </div>
  
    <div class="coop-grid">
      <div class="coop-card" *ngFor="let coop of coops" (click)="coop.id && goToCoop(coop.id)">
        <h3>{{ coop.name }}</h3>
        <p><strong>Code :</strong> {{ coop.accessCode }}</p>
        <p><strong>AjoutÃ© :</strong> {{ coop.createdAt?.toDate() | date:'short' }}</p>
      </div>
    </div>
  </div>

